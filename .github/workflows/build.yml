# Build Pipeline - STARTER FILE
# =============================
# TODO: Complete this workflow!
#
# Requirements:
# - Run only after CI passes (or on push to main)
# - Build Docker image
# - Tag with commit SHA and 'latest'
# - Push to GitHub Container Registry (ghcr.io)
#
# See README.md Step 2 for guidance!

name: Build & Push Docker Image

on:
  # TODO: Configure trigger
  # Option 1: Run on push to main (simple)
  # Option 2: Run after CI workflow completes (advanced)
  workflow_dispatch:  # Manual trigger (keep for testing)

jobs:
  build:
    name: Build Docker Image
    runs-on: ubuntu-latest

    # TODO: Add permissions for packages
    # permissions:
    #   contents: read
    #   packages: write

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      # TODO: Set up Docker Buildx
      # Hint: uses: docker/setup-buildx-action@v3

      # TODO: Login to GitHub Container Registry
      # Hint: uses: docker/login-action@v3
      # You'll need:
      #   registry: ghcr.io
      #   username: ${{ github.actor }}
      #   password: ${{ secrets.GITHUB_TOKEN }}

      # TODO: Build and push Docker image
      # Hint: uses: docker/build-push-action@v5
      # You'll need:
      #   context: .
      #   push: true
      #   tags: ghcr.io/${{ github.repository }}:latest
